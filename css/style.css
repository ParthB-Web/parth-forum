/* ============================================================
   PARTH-FORUM â€” CONSISTENT, MODERN, TONED-DOWN
   Purpose: fix cross-page inconsistencies, remove over-cosmic excess,
   enforce a single component system, preserve character while modernizing.
   Drop into css/style.css (replace existing file).
   ============================================================ */

/* ---------- DESIGN SYSTEM (single source of truth) ---------- */
:root{
  /* palette */
  --bg: #0f1113;               /* page background */
  --surface: #131516;          /* elevated surfaces (cards, nav) */
  --muted: #bfc6cc;            /* secondary text */
  --text: #e7eaee;             /* primary text */
  --accent: #a88f5a;           /* warm accent (desaturated gold) */
  --accent-weak: rgba(168,143,90,.14);
  --glass: rgba(255,255,255,.02);

  /* spacing scale */
  --space-xxs: 6px; --space-xs: 8px; --space-sm: 12px;
  --space-md: 20px; --space-lg: 32px; --space-xl: 48px;

  /* motion */
  --ease: cubic-bezier(.25,.9,.3,1);
  --dur-fast: .18s; --dur-med: .36s; --dur-slow: .8s;

  /* elevation */
  --shadow-1: 0 6px 18px rgba(2,6,23,.35);
  --shadow-2: 0 12px 36px rgba(2,6,23,.42);

  /* type */
  --font-heading: "EB Garamond", serif;
  --font-ui: "Montserrat", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --measure: 66ch;
  --radius: 12px;
}

/* ---------- RESET / BASE ---------- */
*{box-sizing:border-box}
html,body{height:100%}
html{font-family:var(--font-ui); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale}
body{
  margin:0;
  background:linear-gradient(180deg,var(--bg) 0%, #0b0c0d 100%);
  color:var(--text);
  line-height:1.6;
  -webkit-text-size-adjust:100%;
  text-rendering:optimizeLegibility;
  font-size:16px;
  min-height:100vh;
}

/* layout helpers */
.container{max-width:1100px;margin:0 auto;padding:0 var(--space-lg)}
.row{display:flex;gap:var(--space-lg);align-items:flex-start;flex-wrap:wrap}
.col{flex:1 1 0}

/* typography */
h1,h2,h3,h4{margin:0 0 var(--space-sm) 0;line-height:1.05}
h1{font-family:var(--font-heading);font-weight:400;font-size:2.4rem;letter-spacing:.6px}
h2{font-family:var(--font-heading);font-weight:400;font-size:1.4rem}
p{margin:0 0 var(--space-md) 0;color:var(--muted);max-width:var(--measure)}
.lead{font-size:1.125rem;color:var(--muted);max-width:var(--measure)}

/* anchor / button primitives */
a{color:var(--accent);text-decoration:none;transition:color var(--dur-fast) var(--ease)}
a:hover{color:#d7caa0}
.btn{
  display:inline-flex;align-items:center;gap:10px;
  padding:10px 18px;border-radius:999px;border:1px solid var(--accent-weak);
  background:transparent;color:var(--text);cursor:pointer;font-family:var(--font-ui);
  transition:transform var(--dur-fast) var(--ease, var(--dur-fast)), background var(--dur-fast);
}
.btn--primary{background:var(--accent);color:var(--bg);border-color:transparent}
.btn:active{transform:translateY(1px)}

/* ---------- SURFACES / CARD SYSTEM (single card API) ---------- */
.card{
  background:linear-gradient(180deg, rgba(255,255,255,.01), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.04);
  border-radius:var(--radius);
  padding:var(--space-lg);
  box-shadow:var(--shadow-1);
  transition:transform var(--dur-med) var(--ease), box-shadow var(--dur-med) var(--ease), border-color var(--dur-med);
  color:var(--text);
  overflow:hidden;
}

/* consistent card states and modifiers */
.card--lift{transform:translateY(0)}
.card:hover{transform:translateY(-8px);box-shadow:var(--shadow-2);border-color:var(--accent-weak)}
.card--small{padding:var(--space-md)}
.card--edge{border-radius:8px}

/* semantic modifiers */
.card--nav{display:flex;flex-direction:column;gap:12px;align-items:flex-start}
.card--content{max-width:820px;margin:0 auto}

/* ensure consistent title/desc inside cards */
.card h3{font-family:var(--font-heading);font-size:1.05rem;margin-bottom:6px;color:var(--text)}
.card p{color:var(--muted);margin-bottom:0}

/* ---------- NAV / HEADER / SITE SHELL ---------- */
.site-header{padding:var(--space-lg) 0;background:transparent}
.header-inner{display:flex;align-items:center;justify-content:space-between;gap:var(--space-md);max-width:1100px;margin:0 auto;padding:0 var(--space-lg)}
.brand{display:flex;align-items:center;gap:12px}
.brand .logo{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,var(--accent) 0%, #b99f67 100%);box-shadow:var(--shadow-1)}
.brand h1{font-family:var(--font-heading);font-size:1.1rem;margin:0;color:var(--text)}
.global-nav{display:flex;gap:14px;align-items:center}
.global-nav a{padding:8px 10px;border-radius:8px;color:var(--muted);font-weight:600}
.global-nav a:hover{color:var(--text);background:rgba(255,255,255,.02)}

/* mobile nav simplification */
@media (max-width:880px){
  .header-inner{flex-direction:column;align-items:flex-start;padding-bottom:var(--space-md)}
  .global-nav{width:100%;justify-content:space-between}
}

/* ---------- MAIN CONTENT / GRID ---------- */
.main{padding:var(--space-xl) 0}
.grid{display:grid;grid-template-columns:repeat(12,1fr);gap:var(--space-lg)}
.grid--2col{grid-template-columns:repeat(12,1fr)}
.col--primary{grid-column:span 8}
.col--side{grid-column:span 4}
@media (max-width:880px){
  .col--primary,.col--side{grid-column:1/-1}
}

/* content utilities */
.article{max-width:var(--measure);margin:0 auto;padding:var(--space-lg) 0}
.article .meta{color:var(--muted);font-size:.95rem;margin-bottom:var(--space-sm)}
.kicker{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.02);font-weight:700;color:var(--muted);font-size:.8rem}

/* ---------- FORMS / INPUTS ---------- */
.input, textarea, select{
  width:100%;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.04);
  background:transparent;color:var(--text);outline:none;font-family:var(--font-ui);
  transition:border-color var(--dur-fast) var(--ease),box-shadow var(--dur-fast) var(--ease);
}
.input:focus, textarea:focus, select:focus{border-color:var(--accent-weak);box-shadow:0 6px 18px rgba(168,143,90,.06)}

/* consistent form button spacing */
.form-actions{display:flex;gap:12px;align-items:center}

/* ---------- CODE BLOCKS / PRE ---------- */
pre,code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
  background:rgba(255,255,255,.02);border-radius:8px;padding:12px;border:1px solid rgba(255,255,255,.03);color:var(--muted);overflow:auto;
  font-size:.92rem;
}
pre{line-height:1.5}

/* ---------- VISUAL RESTRAINT: TONE DOWN COSMIC ---------- */
/* remove heavy background noise; keep subtle texture controlled by variable */
:root{ --noise-opacity: 0.02 }
body::after{
  content:"";position:fixed;inset:0;pointer-events:none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='f'%3E%3CfeTurbulence baseFrequency='0.8' numOctaves='1' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23f)' opacity='0.06'/%3E%3C/svg%3E");
  opacity:var(--noise-opacity);mix-blend-mode:overlay;z-index:0;
}

/* stars and orbs present but subdued and optional via class */
.sky--decorative #stars, .orb{display:none}

/* if you want low-key motion, enable this single class on body: .live */
body.live .orb{
  display:block;position:absolute;border-radius:50%;width:40px;height:40px;
  border:1px solid rgba(168,143,90,.14);background:radial-gradient(circle at 30% 30%, rgba(168,143,90,.06), transparent);
  transform:translate3d(0,0,0);opacity:.85;will-change:transform;
}

/* ---------- INTERACTION GRAMMAR (consistent, small vocabulary) ---------- */
.interactive{
  transition:transform var(--dur-med) var(--ease), box-shadow var(--dur-med) var(--ease), opacity var(--dur-fast) var(--ease);
  will-change:transform,opacity;
}
.interactive:focus{outline:2px solid rgba(168,143,90,.12);outline-offset:3px}
kbd{background:rgba(255,255,255,.03);border-radius:6px;padding:4px 8px;font-weight:700}

/* subtle hover micro-interaction */
.hover-raise:hover{transform:translateY(-6px);box-shadow:var(--shadow-2)}
.hover-ghost:hover{background:rgba(255,255,255,.02)}

/* ---------- CONSISTENCY RULES (force uniform spacing and widths) ---------- */
.site-footer{padding:var(--space-lg) 0;border-top:1px solid rgba(255,255,255,.03);color:var(--muted)}
.article img{max-width:100%;height:auto;border-radius:8px;display:block;margin:var(--space-md) 0}
ul,ol{margin:0 0 var(--space-md) 1.25rem;color:var(--muted)}

/* ---------- LIGHT MODE (inverse tokens only) ---------- */
@media (prefers-color-scheme: light){
  :root{
    --bg:#fbfbfb;--surface:#ffffff;--muted:#4b5563;--text:#111318;--accent:#9a7f4f;--accent-weak:rgba(154,127,79,.08);
    --shadow-1:0 6px 18px rgba(16,24,32,.06);--shadow-2:0 18px 40px rgba(16,24,32,.08);
    --noise-opacity: 0.01;
  }
  body{background:linear-gradient(180deg,var(--bg),#f6f6f6);color:var(--text)}
  .card{background:linear-gradient(180deg, rgba(11,12,13,0.01), rgba(255,255,255,0.6));border:1px solid rgba(16,24,32,.04)}
  a:hover{color:#7b6a3b}
  pre,code{background:rgba(16,24,32,.03);color:var(--muted)}
}

/* ---------- RESPONSIVE ---------- */
@media (max-width:880px){
  :root{--space-lg:20px}
  h1{font-size:1.8rem}
  .container{padding:0 var(--space-md)}
  .grid{gap:var(--space-md)}
}

/* ---------- MIGRATION / BACKWARDS COMPAT (selectors mapping) ----------
   Ensure old selectors map to the new system to avoid page-specific regressions.
   These are minimal adaptors to keep existing HTML working across pages.
   Remove when templates updated.
--------------------------------------------------------------------*/
header.site-header, .header{display:block}
.intro{max-width:820px;margin:0 auto;padding:var(--space-lg);background:var(--glass);border-radius:10px;border:1px solid rgba(255,255,255,.03)}
.nav-card, .content-card{ /* map old names to new card API */ }
.nav-card{padding:var(--space-md);border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,.01), rgba(255,255,255,.015));border:1px solid rgba(255,255,255,.04)}
.content-card{max-width:920px;margin:0 auto}
.support-element{position:fixed;right:16px;bottom:16px;padding:10px;border-radius:12px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.03)}
.nav-link{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;border:1px solid rgba(168,143,90,.12);background:transparent;color:var(--accent);font-weight:700}

/* ---------- ACCESSIBILITY / PERFORMANCE ---------- */
img{max-width:100%;height:auto;display:block}
[a],button{touch-action:manipulation}
@media (prefers-reduced-motion:reduce){
  *{transition:none!important;animation:none!important}
}
